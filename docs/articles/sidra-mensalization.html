<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>From Rolling Quarters to Monthly Estimates: SIDRA Mensalization Guide • PNADCperiods</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="From Rolling Quarters to Monthly Estimates: SIDRA Mensalization Guide">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PNADCperiods</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/download-and-prepare.html">Download and Prepare Data</a></li>
    <li><a class="dropdown-item" href="../articles/applied-examples.html">Applied Examples</a></li>
    <li><a class="dropdown-item" href="../articles/annual-poverty-analysis.html">Annual Poverty Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/complex-survey-design.html">Complex Survey Design</a></li>
    <li><a class="dropdown-item" href="../articles/how-it-works.html">How PNADCperiods Works</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/sidra-mensalization.html">SIDRA Mensalization Guide</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/antrologos/PNADCperiods/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>From Rolling Quarters to Monthly Estimates: SIDRA Mensalization Guide</h1>
                        <h4 data-toc-skip class="author">Rogerio
Barbosa</h4>
            
            <h4 data-toc-skip class="date">2026-02-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/antrologos/PNADCperiods/blob/HEAD/vignettes/sidra-mensalization.Rmd" class="external-link"><code>vignettes/sidra-mensalization.Rmd</code></a></small>
      <div class="d-none name"><code>sidra-mensalization.Rmd</code></div>
    </div>

    
    
<p>This vignette provides a comprehensive tutorial on converting
Brazil’s PNADC rolling quarter data into exact monthly estimates using
the SIDRA mensalization module.</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>The PNADCperiods package includes a complete module for
<strong>mensalizing</strong> (converting to monthly) the labor market
indicators published by IBGE through the SIDRA API. This module
implements the methodology developed by Marcos Hecksher, enabling
researchers to obtain true monthly estimates rather than the smoothed
rolling quarterly averages published by IBGE.</p>
<p><strong>What you’ll learn:</strong></p>
<ul>
<li>Why rolling quarters obscure monthly dynamics</li>
<li>How to obtain monthly estimates in just 3 lines of code</li>
<li>How to work with 70+ economic indicators</li>
<li>The underlying methodology (for those who want to understand)</li>
<li>How to compute custom starting points from microdata</li>
</ul>
<hr>
</div>
<div class="section level2">
<h2 id="section-1-introduction-the-monthly-data-problem">Section 1: Introduction — The Monthly Data Problem<a class="anchor" aria-label="anchor" href="#section-1-introduction-the-monthly-data-problem"></a>
</h2>
<div class="section level3">
<h3 id="why-pnadc-uses-rolling-quarters">Why PNADC Uses Rolling Quarters<a class="anchor" aria-label="anchor" href="#why-pnadc-uses-rolling-quarters"></a>
</h3>
<p>Brazil’s Continuous National Household Sample Survey (PNADC) collects
data monthly but publishes indicators as <strong>rolling (moving)
quarters</strong>. Each published “quarter” actually represents a
3-month moving average:</p>
<ul>
<li>“2019-Q1” = average of Jan, Feb, Mar 2019</li>
<li>“2019-Q2” = average of Feb, Mar, Apr 2019</li>
<li>“2019-Q3” = average of Mar, Apr, May 2019</li>
</ul>
<p>This design has statistical advantages (smaller standard errors), but
creates serious problems for time series analysis.</p>
<div class="float">
<img src="figures/sidra-mensalization/fig1_rolling_schematic.png" style="width:100.0%" alt="Rolling quarters overlap: each ‘quarter’ shares 2 months with its neighbors"><div class="figcaption">Rolling quarters overlap: each ‘quarter’ shares
2 months with its neighbors</div>
</div>
</div>
<div class="section level3">
<h3 id="problems-for-researchers">Problems for Researchers<a class="anchor" aria-label="anchor" href="#problems-for-researchers"></a>
</h3>
<p><strong>1. Temporal smoothing hides dynamics</strong></p>
<p>When unemployment jumps in March, the rolling quarter “smooths” this
across Jan-Feb-Mar, Feb-Mar-Apr, and Mar-Apr-May. The true March spike
is diluted and spread across multiple periods.</p>
<p><strong>2. Missed turning points</strong></p>
<p>Economic turning points (recession starts, recovery begins) are
delayed and attenuated in rolling quarter data. A sharp monthly change
becomes a gradual quarterly shift.</p>
<p><strong>3. Seasonal adjustment difficulties</strong></p>
<p>Standard seasonal adjustment methods assume non-overlapping periods.
Applying them to rolling quarters produces biased results because
adjacent observations share 2/3 of their data.</p>
<p><strong>4. International comparability</strong></p>
<p>Most countries (US Bureau of Labor Statistics, Eurostat) publish
monthly employment statistics. Rolling quarters make direct comparison
difficult.</p>
</div>
<div class="section level3">
<h3 id="what-mensalization-provides">What Mensalization Provides<a class="anchor" aria-label="anchor" href="#what-mensalization-provides"></a>
</h3>
<p>The mensalization methodology developed by Marcos Hecksher recovers
the <strong>exact monthly estimates</strong> from rolling quarter data.
This gives you:</p>
<ul>
<li>True monthly values for each reference month</li>
<li>Proper inputs for seasonal adjustment</li>
<li>Comparable data with international statistics</li>
<li>Clear identification of turning points</li>
</ul>
<p><strong>Common misconception:</strong> “Can’t I just divide by
3?”</p>
<p>No. Each rolling quarter is a weighted average, and the weights are
calibrated to the full quarter’s population. Simply dividing by 3 would
give incorrect estimates. The mensalization algorithm properly inverts
the averaging process.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="section-2-quick-start-monthly-data-in-3-lines">Section 2: Quick Start — Monthly Data in 3 Lines<a class="anchor" aria-label="anchor" href="#section-2-quick-start-monthly-data-in-3-lines"></a>
</h2>
<div class="section level3">
<h3 id="the-minimal-workflow">The Minimal Workflow<a class="anchor" aria-label="anchor" href="#the-minimal-workflow"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://antrologos.github.io/PNADCperiods/">PNADCperiods</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 1: Fetch rolling quarter data from SIDRA API</span></span>
<span><span class="va">rolling_quarters</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 2: Convert to monthly estimates</span></span>
<span><span class="va">monthly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mensalize_sidra_series.html">mensalize_sidra_series</a></span><span class="op">(</span><span class="va">rolling_quarters</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 3: Use your monthly data!</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">monthly</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">anomesexato</span>, <span class="va">m_popocup</span>, <span class="va">m_taxadesocup</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<p><strong>Output:</strong></p>
<pre><code>   anomesexato m_popocup m_taxadesocup
1:      201203  88529.88          8.32
2:      201204  89333.41          8.48
3:      201205  89314.28          8.14
4:      201206  89461.69          7.74
5:      201207  89418.66          7.58
6:      201208  89677.32          7.52</code></pre>
<p>That’s it! You now have monthly estimates starting from March
2012.</p>
</div>
<div class="section level3">
<h3 id="what-just-happened">What Just Happened?<a class="anchor" aria-label="anchor" href="#what-just-happened"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p><strong><code><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters()</a></code></strong>
downloaded 70+ economic indicators from IBGE’s SIDRA API (Tables 4093,
6390, 6392, 6399, 6906)</p></li>
<li><p><strong><code><a href="../reference/mensalize_sidra_series.html">mensalize_sidra_series()</a></code></strong> applied
the Hecksher formula using pre-computed starting points (bundled with
the package)</p></li>
<li><p>The result is a <code>data.table</code> with monthly estimates
for all series</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="understanding-the-output">Understanding the Output<a class="anchor" aria-label="anchor" href="#understanding-the-output"></a>
</h3>
<p>The output contains:</p>
<ul>
<li>
<code>anomesexato</code>: Month identifier (YYYYMM format, e.g.,
201903 = March 2019)</li>
<li>
<code>m_*</code> columns: Mensalized (monthly) estimates for each
series</li>
<li>Price indices: <code>ipca100dez1993</code>,
<code>inpc100dez1993</code> (for deflation)</li>
</ul>
<p><strong>Key series include:</strong></p>
<table class="table">
<thead><tr class="header">
<th>Column</th>
<th>Description</th>
<th>Unit</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>m_populacao</code></td>
<td>Total population</td>
<td>Thousands</td>
</tr>
<tr class="even">
<td><code>m_pop14mais</code></td>
<td>Population 14+ years</td>
<td>Thousands</td>
</tr>
<tr class="odd">
<td><code>m_popocup</code></td>
<td>Employed population</td>
<td>Thousands</td>
</tr>
<tr class="even">
<td><code>m_popdesocup</code></td>
<td>Unemployed population</td>
<td>Thousands</td>
</tr>
<tr class="odd">
<td><code>m_taxadesocup</code></td>
<td>Unemployment rate</td>
<td>Percent</td>
</tr>
<tr class="even">
<td><code>m_taxapartic</code></td>
<td>Labor force participation rate</td>
<td>Percent</td>
</tr>
<tr class="odd">
<td><code>m_massahabnominaltodos</code></td>
<td>Total nominal wage bill</td>
<td>Millions R$</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="discovering-available-series">Discovering Available Series<a class="anchor" aria-label="anchor" href="#discovering-available-series"></a>
</h3>
<p>Use <code><a href="../reference/get_sidra_series_metadata.html">get_sidra_series_metadata()</a></code> to explore all 86
available series:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_sidra_series_metadata.html">get_sidra_series_metadata</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View series by category</span></span>
<span><span class="va">meta</span><span class="op">[</span><span class="va">category</span> <span class="op">==</span> <span class="st">"employment"</span>, <span class="fu">.</span><span class="op">(</span><span class="va">series_name</span>, <span class="va">description</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<p><strong>Output:</strong></p>
<pre><code>          series_name                                    description
1:          empregado                           Total employed workers
2:         empregpriv           Private sector employees (all types)
3:    empregprivcomcart    Private sector employees with formal contract
4:    empregprivsemcart Private sector employees without formal contract
5:           domestico                             Domestic workers (all)
...</code></pre>
</div>
<div class="section level3">
<h3 id="top-10-most-commonly-used-series">Top 10 Most Commonly Used Series<a class="anchor" aria-label="anchor" href="#top-10-most-commonly-used-series"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Series</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>m_taxadesocup</code></td>
<td>Unemployment rate (%)</td>
</tr>
<tr class="even">
<td><code>m_taxapartic</code></td>
<td>Labor force participation rate (%)</td>
</tr>
<tr class="odd">
<td><code>m_popocup</code></td>
<td>Employed population (thousands)</td>
</tr>
<tr class="even">
<td><code>m_popdesocup</code></td>
<td>Unemployed population (thousands)</td>
</tr>
<tr class="odd">
<td><code>m_nivelocup</code></td>
<td>Employment-population ratio (%)</td>
</tr>
<tr class="even">
<td><code>m_massahabnominaltodos</code></td>
<td>Total nominal wage bill</td>
</tr>
<tr class="odd">
<td><code>m_rendhabnominaltodos</code></td>
<td>Average nominal income</td>
</tr>
<tr class="even">
<td><code>m_subocuphoras</code></td>
<td>Underemployed by hours (thousands)</td>
</tr>
<tr class="odd">
<td><code>m_taxacompsubutlz</code></td>
<td>Composite underutilization rate (%)</td>
</tr>
<tr class="even">
<td><code>m_perccontribprev</code></td>
<td>Social security contribution rate (%)</td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="section-3-understanding-the-data-flow">Section 3: Understanding the Data Flow<a class="anchor" aria-label="anchor" href="#section-3-understanding-the-data-flow"></a>
</h2>
<div class="section level3">
<h3 id="three-step-mental-model">Three-Step Mental Model<a class="anchor" aria-label="anchor" href="#three-step-mental-model"></a>
</h3>
<p>The mensalization process follows a simple pipeline:</p>
<pre><code>SIDRA API → Rolling Quarters → Mensalization → Monthly Estimates</code></pre>
<div class="float">
<img src="figures/sidra-mensalization/fig2_data_flow.png" style="width:100.0%" alt="Data flow from SIDRA to monthly estimates"><div class="figcaption">Data flow from SIDRA to monthly estimates</div>
</div>
</div>
<div class="section level3">
<h3 id="step-1-fetching-rolling-quarter-data">Step 1: Fetching Rolling Quarter Data<a class="anchor" aria-label="anchor" href="#step-1-fetching-rolling-quarter-data"></a>
</h3>
<p>The <code><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters()</a></code> function downloads
data from five SIDRA tables:</p>
<table class="table">
<thead><tr class="header">
<th>Table</th>
<th>Content</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>4093</td>
<td>Population and labor force</td>
</tr>
<tr class="even">
<td>6390</td>
<td>Income (nominal and real)</td>
</tr>
<tr class="odd">
<td>6392</td>
<td>Real income by occupation</td>
</tr>
<tr class="even">
<td>6399</td>
<td>Employment by sector</td>
</tr>
<tr class="odd">
<td>6906</td>
<td>Underutilization indicators</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rq</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Inspect structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">rq</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">rq</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">20</span><span class="op">]</span></span></code></pre></div>
<p><strong>Key columns in rolling quarter data:</strong></p>
<ul>
<li>
<code>anomesfinaltrimmovel</code>: End month of rolling quarter
(YYYYMM)</li>
<li>
<code>populacao</code>, <code>pop14mais</code>,
<code>popocup</code>, etc.: Level estimates (thousands)</li>
<li>
<code>taxadesocup</code>, <code>taxapartic</code>, etc.: Rate
estimates (percent)</li>
</ul>
</div>
<div class="section level3">
<h3 id="step-2-the-mensalization-transform">Step 2: The Mensalization Transform<a class="anchor" aria-label="anchor" href="#step-2-the-mensalization-transform"></a>
</h3>
<p>The <code><a href="../reference/mensalize_sidra_series.html">mensalize_sidra_series()</a></code> function converts rolling
quarters to monthly:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">monthly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mensalize_sidra_series.html">mensalize_sidra_series</a></span><span class="op">(</span><span class="va">rq</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compare dimensions</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Rolling quarters:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">rq</span><span class="op">)</span>, <span class="st">"rows\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Monthly data:"</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">monthly</span><span class="op">)</span>, <span class="st">"rows\n"</span><span class="op">)</span></span></code></pre></div>
<p>The number of rows is approximately the same (one per month), but the
meaning changes from “rolling quarter ending in month X” to “exact
estimate for month X”.</p>
</div>
<div class="section level3">
<h3 id="step-3-using-monthly-estimates">Step 3: Using Monthly Estimates<a class="anchor" aria-label="anchor" href="#step-3-using-monthly-estimates"></a>
</h3>
<p>Monthly estimates are ready for analysis:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Time series plot</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">monthly</span><span class="op">[</span>, <span class="va">date</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">anomesexato</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>, <span class="st">"-"</span>,</span>
<span>                                  <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">anomesexato</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>, <span class="st">"-01"</span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">monthly</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">date</span>, y <span class="op">=</span> <span class="va">m_taxadesocup</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Monthly Unemployment Rate"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Unemployment Rate (%)"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="population-data-for-weighting">Population Data for Weighting<a class="anchor" aria-label="anchor" href="#population-data-for-weighting"></a>
</h3>
<p>For some analyses, you may need monthly population estimates
separately:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pop</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_monthly_population.html">fetch_monthly_population</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">pop</span><span class="op">)</span></span></code></pre></div>
<p>This returns a data.table with <code>ref_month_yyyymm</code> and
<code>m_populacao</code> columns, useful for computing weighted
aggregates or population-adjusted rates.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="section-4-working-with-multiple-series">Section 4: Working with Multiple Series<a class="anchor" aria-label="anchor" href="#section-4-working-with-multiple-series"></a>
</h2>
<div class="section level3">
<h3 id="fetching-by-category">Fetching by Category<a class="anchor" aria-label="anchor" href="#fetching-by-category"></a>
</h3>
<p>Instead of fetching all 86 series, you can filter by category:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Only employment series (18 series)</span></span>
<span><span class="va">employment</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span>category <span class="op">=</span> <span class="st">"employment"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Only population series (6 series)</span></span>
<span><span class="va">population</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span>category <span class="op">=</span> <span class="st">"population"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Available categories:</span></span>
<span><span class="co"># "population", "employment", "sector", "income_nominal",</span></span>
<span><span class="co"># "income_real", "underutilization", "price_index", "rate"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="fetching-specific-series">Fetching Specific Series<a class="anchor" aria-label="anchor" href="#fetching-specific-series"></a>
</h3>
<p>For maximum efficiency, request only the series you need:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Only unemployment-related series</span></span>
<span><span class="va">unemp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span></span>
<span>  series <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"popdesocup"</span>, <span class="st">"taxadesocup"</span>, <span class="st">"popnaforca"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="date-range-filtering">Date Range Filtering<a class="anchor" aria-label="anchor" href="#date-range-filtering"></a>
</h3>
<p>Limit data to a specific period:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Only 2019-2023</span></span>
<span><span class="va">recent</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span></span>
<span>  start_period <span class="op">=</span> <span class="fl">201901L</span>,</span>
<span>  end_period <span class="op">=</span> <span class="fl">202312L</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="excluding-derived-series">Excluding Derived Series<a class="anchor" aria-label="anchor" href="#excluding-derived-series"></a>
</h3>
<p>Some series are rates computed from other series. To fetch only
“base” series:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Exclude computed rates (only population and income levels)</span></span>
<span><span class="va">base_only</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span>exclude_derived <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="working-with-mensalized-output">Working with Mensalized Output<a class="anchor" aria-label="anchor" href="#working-with-mensalized-output"></a>
</h3>
<p>After mensalization, select columns as needed:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">monthly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mensalize_sidra_series.html">mensalize_sidra_series</a></span><span class="op">(</span><span class="va">rq</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Select specific series</span></span>
<span><span class="va">labor_market</span> <span class="op">&lt;-</span> <span class="va">monthly</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span></span>
<span>  <span class="va">anomesexato</span>,</span>
<span>  employed <span class="op">=</span> <span class="va">m_popocup</span>,</span>
<span>  unemployed <span class="op">=</span> <span class="va">m_popdesocup</span>,</span>
<span>  unemp_rate <span class="op">=</span> <span class="va">m_taxadesocup</span>,</span>
<span>  participation <span class="op">=</span> <span class="va">m_taxapartic</span></span>
<span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="section-5-the-mensalization-methodology-deep-dive">Section 5: The Mensalization Methodology (Deep Dive)<a class="anchor" aria-label="anchor" href="#section-5-the-mensalization-methodology-deep-dive"></a>
</h2>
<p><em>[This section can be skipped by users who just need
results]</em></p>
<div class="section level3">
<h3 id="the-core-concept">The Core Concept<a class="anchor" aria-label="anchor" href="#the-core-concept"></a>
</h3>
<p>Rolling quarters are 3-month moving averages. If we denote the true
monthly value for month
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>t</mi><annotation encoding="application/x-tex">t</annotation></semantics></math>
as
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mi>t</mi></msub><annotation encoding="application/x-tex">y_t</annotation></semantics></math>,
then the rolling quarter value
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mi>t</mi></msub><annotation encoding="application/x-tex">x_t</annotation></semantics></math>
is:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>t</mi></msub><mo>=</mo><mfrac><mrow><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mn>2</mn></mrow></msub><mo>+</mo><msub><mi>y</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub><mo>+</mo><msub><mi>y</mi><mi>t</mi></msub></mrow><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">x_t = \frac{y_{t-2} + y_{t-1} + y_t}{3}</annotation></semantics></math></p>
<p>The mensalization algorithm inverts this relationship to recover
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mi>t</mi></msub><annotation encoding="application/x-tex">y_t</annotation></semantics></math>
from the sequence of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>x</mi><mi>t</mi></msub><annotation encoding="application/x-tex">x_t</annotation></semantics></math>
values.</p>
</div>
<div class="section level3">
<h3 id="the-hecksher-formula">The Hecksher Formula<a class="anchor" aria-label="anchor" href="#the-hecksher-formula"></a>
</h3>
<p>The algorithm uses three key steps:</p>
<p><strong>Step 1: Compute first differences</strong></p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><msub><mn>3</mn><mi>t</mi></msub><mo>=</mo><msub><mi>x</mi><mi>t</mi></msub><mo>−</mo><msub><mi>x</mi><mrow><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">d3_t = x_t - x_{t-1}</annotation></semantics></math></p>
<p>This “first difference” captures how much the rolling quarter
changed.</p>
<p><strong>Step 2: Identify month position (mesnotrim)</strong></p>
<p>Each month has a position within its quarter: - Position 1: Jan, Apr,
Jul, Oct - Position 2: Feb, May, Aug, Nov - Position 3: Mar, Jun, Sep,
Dec</p>
<p><strong>Step 3: Cumulative sum by position</strong></p>
<p>For each position separately, compute the cumulative sum of first
differences, starting from a calibrated “starting point”
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mn>0</mn></msub><annotation encoding="application/x-tex">y_0</annotation></semantics></math>:</p>
<p><math display="block" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mi>t</mi></msub><mo>=</mo><msub><mi>y</mi><mn>0</mn></msub><mo>+</mo><munder><mo>∑</mo><mrow><mi>s</mi><mo>∈</mo><mtext mathvariant="normal">same position</mtext><mo>,</mo><mi>s</mi><mo>≤</mo><mi>t</mi></mrow></munder><mi>d</mi><msub><mn>3</mn><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">y_t = y_0 + \sum_{s \in \text{same position}, s \leq t} d3_s</annotation></semantics></math></p>
<div class="float">
<img src="figures/sidra-mensalization/fig3_mensalization_process.png" style="width:100.0%" alt="Mensalization process: rolling quarters (blue) vs monthly estimates (red)"><div class="figcaption">Mensalization process: rolling quarters (blue)
vs monthly estimates (red)</div>
</div>
</div>
<div class="section level3">
<h3 id="the-role-of-starting-points-y0">The Role of Starting Points (y0)<a class="anchor" aria-label="anchor" href="#the-role-of-starting-points-y0"></a>
</h3>
<p>The starting point
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>y</mi><mn>0</mn></msub><annotation encoding="application/x-tex">y_0</annotation></semantics></math>
is crucial. It determines the <strong>level</strong> of all subsequent
monthly estimates. The package includes pre-computed starting points for
53 series, calibrated during the stable 2013-2019 period.</p>
<p>Starting points are computed by: 1. Processing PNADC microdata to get
“true” monthly aggregates (z_) 2. Comparing these to rolling quarters 3.
Finding the value that makes
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mn>0</mn></msub><mo>+</mo><mtext mathvariant="normal">cumsum</mtext><mrow><mo stretchy="true" form="prefix">(</mo><mi>d</mi><mn>3</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">y_0 + \text{cumsum}(d3)</annotation></semantics></math>
match the microdata</p>
</div>
<div class="section level3">
<h3 id="assumptions-and-limitations">Assumptions and Limitations<a class="anchor" aria-label="anchor" href="#assumptions-and-limitations"></a>
</h3>
<p><strong>Assumptions:</strong> - Monthly values within each position
evolve smoothly - The calibration period (2013-2019) reflects “normal”
conditions - SIDRA rolling quarters are accurate</p>
<p><strong>Limitations:</strong> - Cannot recover intra-month variation
- Assumes constant seasonal pattern across years - Starting points are
calibrated to national totals (not regional breakdowns)</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="section-6-practical-considerations">Section 6: Practical Considerations<a class="anchor" aria-label="anchor" href="#section-6-practical-considerations"></a>
</h2>
<div class="section level3">
<h3 id="api-caching">API Caching<a class="anchor" aria-label="anchor" href="#api-caching"></a>
</h3>
<p>The package caches SIDRA API responses to avoid repeated
downloads:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First call: fetches from API</span></span>
<span><span class="va">rq1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># Takes ~10 seconds</span></span>
<span></span>
<span><span class="co"># Second call: uses cache</span></span>
<span><span class="va">rq2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># Instant</span></span>
<span></span>
<span><span class="co"># Force fresh fetch</span></span>
<span><span class="va">rq3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span>use_cache <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clear all cached data</span></span>
<span><span class="fu"><a href="../reference/clear_sidra_cache.html">clear_sidra_cache</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Cache expires after 24 hours by default. Set custom expiration:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rq</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span>cache_max_age_hours <span class="op">=</span> <span class="fl">48</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="error-handling">Error Handling<a class="anchor" aria-label="anchor" href="#error-handling"></a>
</h3>
<p><strong>Common errors and solutions:</strong></p>
<table class="table">
<colgroup>
<col width="29%">
<col width="29%">
<col width="41%">
</colgroup>
<thead><tr class="header">
<th>Error</th>
<th>Cause</th>
<th>Solution</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>“Series not found”</td>
<td>Misspelled series name</td>
<td>Check <code><a href="../reference/get_sidra_series_metadata.html">get_sidra_series_metadata()</a></code>
</td>
</tr>
<tr class="even">
<td>“API timeout”</td>
<td>SIDRA server slow</td>
<td>Retry; use <code>use_cache = TRUE</code>
</td>
</tr>
<tr class="odd">
<td>“No starting points”</td>
<td>Custom series</td>
<td>See Section 7</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check if series exists</span></span>
<span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_sidra_series_metadata.html">get_sidra_series_metadata</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="st">"taxadesocup"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">meta</span><span class="op">$</span><span class="va">series_name</span>  <span class="co"># TRUE</span></span>
<span></span>
<span><span class="co"># Validate before mensalizing</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="va">monthly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mensalize_sidra_series.html">mensalize_sidra_series</a></span><span class="op">(</span><span class="va">rq</span>, series <span class="op">=</span> <span class="st">"invalid_name"</span><span class="op">)</span></span>
<span><span class="op">}</span>, error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Error: "</span>, <span class="va">e</span><span class="op">$</span><span class="va">message</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-quality-notes">Data Quality Notes<a class="anchor" aria-label="anchor" href="#data-quality-notes"></a>
</h3>
<p><strong>COVID-19 disruptions (2020):</strong> IBGE suspended
in-person interviews during the pandemic, affecting data collection.
Some indicators show unusual patterns in 2020-Q2.</p>
<p><strong>Variable availability:</strong> Not all series are available
from March 2012. Some start later: - CNPJ-based series
(empregadorcomcnpj, etc.): From October 2015 - Some income measures:
Variable availability</p>
<p>Check availability:</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_sidra_series_metadata.html">get_sidra_series_metadata</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">meta</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span><span class="va">series_name</span>, <span class="va">available_from</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="section-7-advanced-custom-starting-points">Section 7: Advanced — Custom Starting Points<a class="anchor" aria-label="anchor" href="#section-7-advanced-custom-starting-points"></a>
</h2>
<p><em>[For users with calibrated PNADC microdata]</em></p>
<div class="section level3">
<h3 id="when-you-need-custom-starting-points">When You Need Custom Starting Points<a class="anchor" aria-label="anchor" href="#when-you-need-custom-starting-points"></a>
</h3>
<p>Use the bundled starting points (default) unless:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Your series isn’t bundled</strong> — Custom variable
definitions</li>
<li>
<strong>Different calibration period</strong> — Non-standard
reference period</li>
<li>
<strong>Regional breakdown</strong> — State or metro-area
mensalization</li>
<li>
<strong>Methodological research</strong> — Testing alternative
calibrations</li>
</ol>
</div>
<div class="section level3">
<h3 id="decision-tree">Decision Tree<a class="anchor" aria-label="anchor" href="#decision-tree"></a>
</h3>
<pre><code>Do you need standard national-level series?
├── YES → Use bundled starting points (default)
└── NO → Do you have calibrated PNADC microdata?
    ├── YES → Compute custom starting points
    └── NO → Calibrate microdata first (see main vignette)</code></pre>
</div>
<div class="section level3">
<h3 id="option-a-all-in-one-function">Option A: All-in-One Function<a class="anchor" aria-label="anchor" href="#option-a-all-in-one-function"></a>
</h3>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Load your stacked PNADC microdata (with pnadc_apply_periods weights)</span></span>
<span><span class="va">stacked</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="st">"my_calibrated_pnadc.rds"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute starting points</span></span>
<span><span class="va">custom_y0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compute_starting_points_from_microdata.html">compute_starting_points_from_microdata</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">stacked</span>,</span>
<span>  calibration_start <span class="op">=</span> <span class="fl">201301L</span>,</span>
<span>  calibration_end <span class="op">=</span> <span class="fl">201912L</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use custom starting points</span></span>
<span><span class="va">monthly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mensalize_sidra_series.html">mensalize_sidra_series</a></span><span class="op">(</span><span class="va">rq</span>, starting_points <span class="op">=</span> <span class="va">custom_y0</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="option-b-step-by-step-for-debugging">Option B: Step-by-Step (for debugging)<a class="anchor" aria-label="anchor" href="#option-b-step-by-step-for-debugging"></a>
</h3>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Step 1: Build crosswalk and calibrate (existing functions)</span></span>
<span><span class="va">crosswalk</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pnadc_identify_periods.html">pnadc_identify_periods</a></span><span class="op">(</span><span class="va">stacked</span><span class="op">)</span></span>
<span><span class="va">calibrated</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pnadc_apply_periods.html">pnadc_apply_periods</a></span><span class="op">(</span></span>
<span>  <span class="va">stacked</span>, <span class="va">crosswalk</span>,</span>
<span>  weight_var <span class="op">=</span> <span class="st">"V1028"</span>,</span>
<span>  calibration_unit <span class="op">=</span> <span class="st">"month"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 2: Compute z_ aggregates (monthly totals from microdata)</span></span>
<span><span class="va">z_agg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compute_z_aggregates.html">compute_z_aggregates</a></span><span class="op">(</span><span class="va">calibrated</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 3: Fetch rolling quarters for comparison</span></span>
<span><span class="va">rq</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 4: Compute starting points</span></span>
<span><span class="va">y0</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compute_series_starting_points.html">compute_series_starting_points</a></span><span class="op">(</span></span>
<span>  monthly_estimates <span class="op">=</span> <span class="va">z_agg</span>,</span>
<span>  rolling_quarters <span class="op">=</span> <span class="va">rq</span>,</span>
<span>  calibration_start <span class="op">=</span> <span class="fl">201301L</span>,</span>
<span>  calibration_end <span class="op">=</span> <span class="fl">201912L</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Step 5: Use custom starting points</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mensalize_sidra_series.html">mensalize_sidra_series</a></span><span class="op">(</span><span class="va">rq</span>, starting_points <span class="op">=</span> <span class="va">y0</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="special-cases">Special Cases<a class="anchor" aria-label="anchor" href="#special-cases"></a>
</h3>
<p><strong>CNPJ series (empregadorcomcnpj, contapropriacomcnpj,
etc.):</strong></p>
<p>The V4019 variable (CNPJ registration) is only available from October
2015. Use a later calibration period:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y0_cnpj</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compute_series_starting_points.html">compute_series_starting_points</a></span><span class="op">(</span></span>
<span>  <span class="va">z_agg</span>, <span class="va">rq</span>,</span>
<span>  calibration_start <span class="op">=</span> <span class="fl">201601L</span>,  <span class="co"># Not 201301!</span></span>
<span>  calibration_end <span class="op">=</span> <span class="fl">201912L</span>,</span>
<span>  use_series_specific_periods <span class="op">=</span> <span class="cn">TRUE</span>  <span class="co"># Auto-adjust for CNPJ series</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>subocuphoras (underemployment by hours):</strong></p>
<p>This series uses different PNADC variables before/after September
2015 (VD4004 vs VD4004A). The package handles this automatically with
split calibration.</p>
</div>
<div class="section level3">
<h3 id="validating-custom-starting-points">Validating Custom Starting Points<a class="anchor" aria-label="anchor" href="#validating-custom-starting-points"></a>
</h3>
<p>Compare your custom y0 against the bundled values:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bundled</span> <span class="op">&lt;-</span> <span class="va">pnadc_series_starting_points</span></span>
<span></span>
<span><span class="co"># Merge and compare</span></span>
<span><span class="va">comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">custom_y0</span>, <span class="va">bundled</span>,</span>
<span>              by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"series_name"</span>, <span class="st">"mesnotrim"</span><span class="op">)</span>,</span>
<span>              suffixes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"_custom"</span>, <span class="st">"_bundled"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">comp</span><span class="op">[</span>, <span class="va">rel_diff</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">y0_custom</span> <span class="op">-</span> <span class="va">y0_bundled</span><span class="op">)</span> <span class="op">/</span> <span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">y0_bundled</span><span class="op">)</span> <span class="op">*</span> <span class="fl">100</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Check differences</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">comp</span><span class="op">$</span><span class="va">rel_diff</span><span class="op">)</span></span>
<span><span class="va">comp</span><span class="op">[</span><span class="va">rel_diff</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">]</span>  <span class="co"># Flag series with &gt;1% difference</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="section-8-case-study-covid-19-unemployment">Section 8: Case Study — COVID-19 Unemployment<a class="anchor" aria-label="anchor" href="#section-8-case-study-covid-19-unemployment"></a>
</h2>
<div class="section level3">
<h3 id="research-question">Research Question<a class="anchor" aria-label="anchor" href="#research-question"></a>
</h3>
<p>How quickly did unemployment rise when COVID-19 hit Brazil, and how
quickly did it recover? Rolling quarter data obscures these
dynamics.</p>
</div>
<div class="section level3">
<h3 id="analysis">Analysis<a class="anchor" aria-label="anchor" href="#analysis"></a>
</h3>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Fetch and mensalize unemployment data</span></span>
<span><span class="va">rq</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters</a></span><span class="op">(</span>series <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"taxadesocup"</span>, <span class="st">"popdesocup"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">monthly</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mensalize_sidra_series.html">mensalize_sidra_series</a></span><span class="op">(</span><span class="va">rq</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter to COVID period</span></span>
<span><span class="va">covid_period</span> <span class="op">&lt;-</span> <span class="va">monthly</span><span class="op">[</span><span class="va">anomesexato</span> <span class="op">&gt;=</span> <span class="fl">201901</span> <span class="op">&amp;</span> <span class="va">anomesexato</span> <span class="op">&lt;=</span> <span class="fl">202212</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Create date column</span></span>
<span><span class="va">covid_period</span><span class="op">[</span>, <span class="va">date</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">anomesexato</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>, <span class="st">"-"</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">anomesexato</span>, <span class="fl">5</span>, <span class="fl">6</span><span class="op">)</span>, <span class="st">"-01"</span></span>
<span><span class="op">)</span><span class="op">)</span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Find peak</span></span>
<span><span class="va">peak_month</span> <span class="op">&lt;-</span> <span class="va">covid_period</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.max</a></span><span class="op">(</span><span class="va">m_taxadesocup</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Peak unemployment:"</span>, <span class="va">peak_month</span><span class="op">$</span><span class="va">m_taxadesocup</span>, <span class="st">"% in"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/format.html" class="external-link">format</a></span><span class="op">(</span><span class="va">peak_month</span><span class="op">$</span><span class="va">date</span>, <span class="st">"%B %Y"</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="figures/sidra-mensalization/fig4_monthly_vs_quarterly.png" style="width:100.0%" alt="Monthly vs rolling quarter unemployment rate (2019-2023)"><div class="figcaption">Monthly vs rolling quarter unemployment rate
(2019-2023)</div>
</div>
</div>
<div class="section level3">
<h3 id="what-monthly-data-reveals">What Monthly Data Reveals<a class="anchor" aria-label="anchor" href="#what-monthly-data-reveals"></a>
</h3>
<div class="float">
<img src="figures/sidra-mensalization/fig5_covid_case_study.png" style="width:100.0%" alt="COVID-19 impact on Brazilian unemployment"><div class="figcaption">COVID-19 impact on Brazilian unemployment</div>
</div>
<p><strong>Key findings from monthly estimates:</strong></p>
<ol style="list-style-type: decimal">
<li><p><strong>Exact peak timing</strong>: Unemployment peaked in the
exact month when rolling quarters show only a gradual rise</p></li>
<li><p><strong>Speed of job losses</strong>: The monthly data shows a
sharp spike that rolling quarters smooth over 3+ months</p></li>
<li><p><strong>Recovery pattern</strong>: The monthly series reveals
that recovery was not smooth—it had pauses and reversals hidden in
quarterly averages</p></li>
<li><p><strong>Information hidden in rolling averages</strong>: A
2-percentage-point rise spread over 3 rolling quarters is actually a 4+
point monthly spike followed by partial recovery</p></li>
</ol>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="section-9-reference-series-catalog">Section 9: Reference — Series Catalog<a class="anchor" aria-label="anchor" href="#section-9-reference-series-catalog"></a>
</h2>
<div class="section level3">
<h3 id="series-naming-conventions">Series Naming Conventions<a class="anchor" aria-label="anchor" href="#series-naming-conventions"></a>
</h3>
<table class="table">
<thead><tr class="header">
<th>Prefix</th>
<th>Meaning</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>m_</code></td>
<td>Mensalized monthly estimate</td>
<td><code>m_popocup</code></td>
</tr>
<tr class="even">
<td><code>pop*</code></td>
<td>Population count</td>
<td>
<code>populacao</code>, <code>pop14mais</code>
</td>
</tr>
<tr class="odd">
<td><code>*comcart</code></td>
<td>With formal contract</td>
<td><code>empregprivcomcart</code></td>
</tr>
<tr class="even">
<td><code>*semcart</code></td>
<td>Without formal contract</td>
<td><code>empregprivsemcart</code></td>
</tr>
<tr class="odd">
<td><code>*comcnpj</code></td>
<td>With CNPJ registration</td>
<td><code>empregadorcomcnpj</code></td>
</tr>
<tr class="even">
<td><code>*semcnpj</code></td>
<td>Without CNPJ registration</td>
<td><code>empregadorsemcnpj</code></td>
</tr>
<tr class="odd">
<td><code>taxa*</code></td>
<td>Rate (percent)</td>
<td><code>taxadesocup</code></td>
</tr>
<tr class="even">
<td><code>nivel*</code></td>
<td>Level/ratio (percent)</td>
<td><code>nivelocup</code></td>
</tr>
<tr class="odd">
<td><code>perc*</code></td>
<td>Percentage</td>
<td><code>perccontribprev</code></td>
</tr>
<tr class="even">
<td><code>rend*</code></td>
<td>Income (rendimento)</td>
<td><code>rendhabnominaltodos</code></td>
</tr>
<tr class="odd">
<td><code>massa*</code></td>
<td>Wage bill (massa salarial)</td>
<td><code>massahabnominaltodos</code></td>
</tr>
<tr class="even">
<td><code>*hab*</code></td>
<td>Usually received (habitual)</td>
<td><code>rendhabnominaltodos</code></td>
</tr>
<tr class="odd">
<td><code>*efet*</code></td>
<td>Actually received (efetivo)</td>
<td><code>rendefetnominaltodos</code></td>
</tr>
<tr class="even">
<td><code>*ipcabr*</code></td>
<td>Deflated by IPCA</td>
<td><code>massahabtodosipcabr</code></td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="complete-series-list-by-category">Complete Series List by Category<a class="anchor" aria-label="anchor" href="#complete-series-list-by-category"></a>
</h3>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_sidra_series_metadata.html">get_sidra_series_metadata</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View all series grouped by category</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">cat</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">meta</span><span class="op">$</span><span class="va">category</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"\n###"</span>, <span class="fu"><a href="https://rdrr.io/r/base/chartr.html" class="external-link">toupper</a></span><span class="op">(</span><span class="va">cat</span><span class="op">)</span>, <span class="st">"###\n"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">meta</span><span class="op">[</span><span class="va">category</span> <span class="op">==</span> <span class="va">cat</span>, <span class="fu">.</span><span class="op">(</span><span class="va">series_name</span>, <span class="va">description</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><strong>Population (6 series):</strong> <code>populacao</code>,
<code>pop14mais</code>, <code>popnaforca</code>, <code>popocup</code>,
<code>popdesocup</code>, <code>popforadaforca</code></p>
<p><strong>Employment (18 series):</strong> <code>empregado</code>,
<code>empregpriv</code>, <code>empregprivcomcart</code>,
<code>empregprivsemcart</code>, <code>domestico</code>,
<code>domesticocomcart</code>, <code>domesticosemcart</code>,
<code>empregpubl</code>, <code>empregpublcomcart</code>,
<code>empregpublsemcart</code>, <code>estatutmilitar</code>,
<code>empregador</code>, <code>empregadorcomcnpj</code>,
<code>empregadorsemcnpj</code>, <code>contapropria</code>,
<code>contapropriacomcnpj</code>, <code>contapropriasemcnpj</code>,
<code>trabfamauxiliar</code></p>
<p><strong>Sector (10 series):</strong> <code>agropecuaria</code>,
<code>industria</code>, <code>construcao</code>, <code>comercio</code>,
<code>transporte</code>, <code>alojaliment</code>,
<code>infcomfinimobadm</code>, <code>adminpublica</code>,
<code>outroservico</code>, <code>servicodomestico</code></p>
<p><strong>Income - Nominal (4 series):</strong>
<code>rendhabnominaltodos</code>, <code>rendefetnominaltodos</code>,
<code>massahabnominaltodos</code>,
<code>massaefetnominaltodos</code></p>
<p><strong>Underutilization (11 series):</strong>
<code>contribuinteprev</code>, <code>subocuphoras</code>,
<code>forcapotencial</code>, <code>forcaampliada</code>,
<code>desalentado</code>, <code>comrendtodos</code> (plus derived
rates)</p>
<p><strong>Rates (computed, 12 series):</strong>
<code>taxapartic</code>, <code>nivelocup</code>,
<code>niveldesocup</code>, <code>taxadesocup</code>,
<code>perccontribprev</code>, <code>taxasubocuphoras</code>,
<code>taxacombdesosub</code>, <code>taxacombdesopot</code>,
<code>taxacompsubutlz</code>, <code>percdesalento</code></p>
</div>
<div class="section level3">
<h3 id="programmatic-access">Programmatic Access<a class="anchor" aria-label="anchor" href="#programmatic-access"></a>
</h3>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_sidra_series_metadata.html">get_sidra_series_metadata</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Filter by multiple criteria</span></span>
<span><span class="va">employment_rates</span> <span class="op">&lt;-</span> <span class="va">meta</span><span class="op">[</span></span>
<span>  <span class="va">category</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"employment"</span>, <span class="st">"rate"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"taxa|nivel"</span>, <span class="va">series_name</span><span class="op">)</span></span>
<span><span class="op">]</span></span>
<span></span>
<span><span class="co"># Get series available from a specific date</span></span>
<span><span class="va">post_2015</span> <span class="op">&lt;-</span> <span class="va">meta</span><span class="op">[</span><span class="va">available_from</span> <span class="op">&gt;=</span> <span class="fl">201510</span><span class="op">]</span></span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="section-10-troubleshooting-and-faq">Section 10: Troubleshooting and FAQ<a class="anchor" aria-label="anchor" href="#section-10-troubleshooting-and-faq"></a>
</h2>
<div class="section level3">
<h3 id="common-errors">Common Errors<a class="anchor" aria-label="anchor" href="#common-errors"></a>
</h3>
<p><strong>“Error: Series ‘xyz’ not found”</strong></p>
<p>Check spelling and availability:</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_sidra_series_metadata.html">get_sidra_series_metadata</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">meta</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"xyz"</span>, <span class="va">series_name</span>, ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<p><strong>“Error: No starting points available for series
‘xyz’”</strong></p>
<p>The bundled starting points cover 53 series. For custom series,
compute your own starting points (see Section 7).</p>
<p><strong>“SIDRA API timeout”</strong></p>
<p>The SIDRA server may be slow. Solutions: 1. Retry after a few minutes
2. Use <code>use_cache = TRUE</code> to avoid re-downloading 3. Fetch
smaller subsets:
<code>fetch_sidra_rolling_quarters(category = "employment")</code></p>
<p><strong>“Unexpected NA values in output”</strong></p>
<p>Some series have limited date availability:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check when series becomes available</span></span>
<span><span class="va">monthly</span><span class="op">[</span>, <span class="fu">.</span><span class="op">(</span>first_valid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">anomesexato</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">m_empregadorcomcnpj</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>,</span>
<span>        by <span class="op">=</span> <span class="fu">.</span><span class="op">(</span>year <span class="op">=</span> <span class="va">anomesexato</span> <span class="op"><a href="https://rdrr.io/r/base/Arithmetic.html" class="external-link">%/%</a></span> <span class="fl">100</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="frequently-asked-questions">Frequently Asked Questions<a class="anchor" aria-label="anchor" href="#frequently-asked-questions"></a>
</h3>
<p><strong>Q: How accurate are the monthly estimates?</strong></p>
<p>A: The monthly estimates exactly match the methodology used by IBGE
internally and validated against Marcos Hecksher’s reference
implementation. For the 57 series with bundled starting points, 98% have
maximum discrepancy &lt; 1% compared to the reference.</p>
<p><strong>Q: Can I use this for regional (state-level)
estimates?</strong></p>
<p>A: The current module only supports national-level estimates.
State-level mensalization would require state-level starting points
computed from microdata.</p>
<p><strong>Q: How do I cite this methodology?</strong></p>
<p>A: Cite Marcos Hecksher’s original work and this package:</p>
<blockquote>
<p>Hecksher, M. (2021). Mensalization of PNADC Series. <em>IPEA
Technical Note</em>.</p>
<p>Barbosa, R. (2024). PNADCperiods: Sub-quarterly PNADC Time Series. R
package version 0.1.0. <a href="https://github.com/antrologos/PNADCperiods" class="external-link uri">https://github.com/antrologos/PNADCperiods</a></p>
</blockquote>
<p><strong>Q: Why do some rates show larger discrepancies than
levels?</strong></p>
<p>A: Rates are computed as ratios (e.g.,
<code>m_popdesocup / m_popnaforca * 100</code>). Small differences in
the numerator and denominator can produce larger percentage differences
in the ratio, especially for rates near 0% or 100%.</p>
<p><strong>Q: Can I mensalize my own custom indicators?</strong></p>
<p>A: Yes, if you have: 1. PNADC microdata with the indicator 2.
Calibrated monthly weights (from <code><a href="../reference/pnadc_apply_periods.html">pnadc_apply_periods()</a></code>)</p>
<p>Then use <code><a href="../reference/compute_starting_points_from_microdata.html">compute_starting_points_from_microdata()</a></code> to
generate custom y0 values.</p>
</div>
<div class="section level3">
<h3 id="getting-help">Getting Help<a class="anchor" aria-label="anchor" href="#getting-help"></a>
</h3>
<ul>
<li>
<strong>Package issues</strong>: <a href="https://github.com/antrologos/PNADCperiods/issues" class="external-link uri">https://github.com/antrologos/PNADCperiods/issues</a>
</li>
<li>
<strong>Methodology questions</strong>: See Marcos Hecksher’s IPEA
publications</li>
<li>
<strong>SIDRA API</strong>: <a href="https://sidra.ibge.gov.br/" class="external-link uri">https://sidra.ibge.gov.br/</a>
</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="summary-function-reference">Summary: Function Reference<a class="anchor" aria-label="anchor" href="#summary-function-reference"></a>
</h2>
<table class="table">
<colgroup>
<col width="31%">
<col width="28%">
<col width="40%">
</colgroup>
<thead><tr class="header">
<th>Function</th>
<th>Purpose</th>
<th>When to Use</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code><a href="../reference/fetch_sidra_rolling_quarters.html">fetch_sidra_rolling_quarters()</a></code></td>
<td>Download SIDRA data</td>
<td>First step</td>
</tr>
<tr class="even">
<td><code><a href="../reference/fetch_monthly_population.html">fetch_monthly_population()</a></code></td>
<td>Get population series</td>
<td>For weighting</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/mensalize_sidra_series.html">mensalize_sidra_series()</a></code></td>
<td>Convert to monthly</td>
<td>Main transformation</td>
</tr>
<tr class="even">
<td><code><a href="../reference/get_sidra_series_metadata.html">get_sidra_series_metadata()</a></code></td>
<td>Explore series</td>
<td>Finding variable names</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/clear_sidra_cache.html">clear_sidra_cache()</a></code></td>
<td>Reset cache</td>
<td>After data updates</td>
</tr>
<tr class="even">
<td><code><a href="../reference/compute_z_aggregates.html">compute_z_aggregates()</a></code></td>
<td>Microdata → z_</td>
<td>Custom starting points</td>
</tr>
<tr class="odd">
<td><code><a href="../reference/compute_series_starting_points.html">compute_series_starting_points()</a></code></td>
<td>z_ → y0</td>
<td>Custom starting points</td>
</tr>
<tr class="even">
<td><code><a href="../reference/compute_starting_points_from_microdata.html">compute_starting_points_from_microdata()</a></code></td>
<td>All-in-one</td>
<td>Custom starting points</td>
</tr>
</tbody>
</table>
<p><strong>Bundled data:</strong> -
<code>pnadc_series_starting_points</code>: Pre-computed y0 for 53 series
× 3 positions</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://orcid.org/0000-0002-6796-4547" class="external-link">Rogerio Barbosa</a>, <a href="https://orcid.org/0000-0002-5449-6787" class="external-link">Marcos Hecksher</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
